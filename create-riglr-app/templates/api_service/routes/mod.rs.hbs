//! API Routes module

pub mod health;
pub mod agent;
pub mod agent_logic;

{{#if (eq server_framework "actix")}}
use actix_web::web;

pub fn configure(cfg: &mut web::ServiceConfig) {
    cfg.service(
        web::scope("/api/v1")
            .configure(health::configure)
            .configure(agent::configure)
    );
}
{{/if}}

{{#if (eq server_framework "axum")}}
use axum::Router;
use std::sync::Arc;

pub fn create_routes() -> Router<Arc<crate::AppState>> {
    Router::new()
        .nest("/health", health::create_routes())
        .nest("/agent", agent::create_routes())
}
{{/if}}
